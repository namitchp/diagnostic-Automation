{"ast":null,"code":"import _defineProperty from\"F:/React code/diagnostic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"F:/React code/diagnostic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"F:/React code/diagnostic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"F:/React code/diagnostic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"F:/React code/diagnostic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{TextField,Button}from\"@material-ui/core\";import{Alert}from\"@material-ui/lab\";import{CommonController}from\"../../../../../_redux/controller/common.controller\";import{showErrorToast,showSuccessToast}from\"../../../../../components/common\";import{SimpleTable}from\"../../../../../components/basic-table\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddOrEditGroup=function AddOrEditGroup(props){var _groupValues$tabArray;var _useState=useState({tab_id:\"\",tab_name:\"\",mtab_id:0,tabArray:[]}),_useState2=_slicedToArray(_useState,2),groupValues=_useState2[0],setGroupValues=_useState2[1];var _useState3=useState({tab_name:\"\",sequence:\"\"}),_useState4=_slicedToArray(_useState3,2),groupTab=_useState4[0],setgroupTab=_useState4[1];var _useState5=useState({type:\"\",msg:\"\"}),_useState6=_slicedToArray(_useState5,2),showMessage=_useState6[0],setMessage=_useState6[1];var tabArrayDelet=function tabArrayDelet(e){var deleteArraytab=_objectSpread({},groupValues);deleteArraytab.tabArray.splice(deleteArraytab.tabArray.indexOf(e),1);setGroupValues(deleteArraytab);};var listColumn=[{id:\"tab_name\",numeric:false,disablePadding:false,label:\"Tab Name\"},{id:\"sequence\",numeric:true,disablePadding:false,label:\"Sequence\"}];var submitAddBox=function submitAddBox(){var arrayList=_objectSpread({},groupValues);arrayList.tabArray.push(groupTab);setGroupValues(arrayList);};var insertForm=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var body;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;body={user_id:localStorage.getItem(\"userId\"),mtab_id:groupValues.mtab_id,mtab_name:groupValues.tab_name,tab_id:groupValues.tab_id,tabArray:groupValues.tabArray};_context.next=4;return CommonController.commonApiCallFilter(\"master/insert_cos_tab\",body,\"post\",\"node\").then(function(result){if(result.status==200){showSuccessToast(result.message);props.onClose(0);}});case 4:_context.next=9;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](0);showErrorToast(_context.t0);case 9:case\"end\":return _context.stop();}}},_callee,null,[[0,6]]);}));return function insertForm(){return _ref.apply(this,arguments);};}();useEffect(function(){if(props.editData){setGroupValues(props.editData);}},[props.editData]);var onSave=function onSave(){insertForm();};var handleOnChange=function handleOnChange(event){setGroupValues(_objectSpread(_objectSpread({},groupValues),{},_defineProperty({},event.target.name,event.target.value)));};var onCancelClick=function onCancelClick(){props.onClose(0);};return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsx(TextField,{label:\"Tab ID\",name:\"tab_id\",value:groupValues.tab_id,onChange:handleOnChange,fullWidth:true,variant:\"outlined\",size:\"small\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsx(TextField,{label:\"Tab Name*\",name:\"tab_name\",value:groupValues.group_name,onChange:handleOnChange,fullWidth:true,variant:\"outlined\",size:\"small\"})})]}),((_groupValues$tabArray=groupValues.tabArray)===null||_groupValues$tabArray===void 0?void 0:_groupValues$tabArray.length)>0?/*#__PURE__*/_jsx(SimpleTable,{columns:listColumn,rows:groupValues.tabArray,onDelete:tabArrayDelet}):null,/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row mt-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3 mb-3\",children:/*#__PURE__*/_jsx(TextField,{label:\"Tab Name\",fullWidth:true,onChange:function onChange(e){setgroupTab(_objectSpread(_objectSpread({},groupTab),{},{tab_name:e.target.value}));},value:groupTab.tab_name,variant:\"outlined\",name:\"tab_name\",size:\"small\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 mb-3\",children:/*#__PURE__*/_jsx(TextField,{label:\"Sequence\",fullWidth:true,onChange:function onChange(e){setgroupTab(_objectSpread(_objectSpread({},groupTab),{},{sequence:e.target.value}));},value:groupTab.sequence,variant:\"outlined\",name:\"sequence\",size:\"small\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2 mb-3 pl-5\",children:/*#__PURE__*/_jsx(Button,{color:\"primary\",className:\"mr-2\"// disableElevation\n,variant:\"contained\",onClick:submitAddBox,children:\"Add New\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-12 mt-3 text-right\",children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",className:\"mr-2\",onClick:onCancelClick,disableElevation:true,children:\"Cancel\"}),groupValues.type==\"preview\"?\"\":/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:onSave,color:\"primary\",disableElevation:true,children:\"Save\"})]}),showMessage.type!=\"\"?/*#__PURE__*/_jsx(Alert,{severity:showMessage.type,children:showMessage.msg}):null]})]})});};export default AddOrEditGroup;","map":{"version":3,"sources":["F:/React code/diagnostic/src/pages/Master/Configuration/costing/tabs/form.js"],"names":["React","useEffect","useState","TextField","Button","Alert","CommonController","showErrorToast","showSuccessToast","SimpleTable","AddOrEditGroup","props","tab_id","tab_name","mtab_id","tabArray","groupValues","setGroupValues","sequence","groupTab","setgroupTab","type","msg","showMessage","setMessage","tabArrayDelet","e","deleteArraytab","splice","indexOf","listColumn","id","numeric","disablePadding","label","submitAddBox","arrayList","push","insertForm","body","user_id","localStorage","getItem","mtab_name","commonApiCallFilter","then","result","status","message","onClose","editData","onSave","handleOnChange","event","target","name","value","onCancelClick","group_name","length"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { TextField, Button } from \"@material-ui/core\";\r\nimport { Alert } from \"@material-ui/lab\";\r\nimport { CommonController } from \"../../../../../_redux/controller/common.controller\";\r\nimport {\r\n  showErrorToast,\r\n  showSuccessToast,\r\n} from \"../../../../../components/common\";\r\nimport { SimpleTable } from \"../../../../../components/basic-table\";\r\nconst AddOrEditGroup = (props) => {\r\n  const [groupValues, setGroupValues] = useState({\r\n    tab_id: \"\",\r\n    tab_name: \"\",\r\n    mtab_id:0,\r\n    tabArray: [],\r\n  });\r\n  const [groupTab, setgroupTab] = useState({\r\n    tab_name: \"\",\r\n    sequence: \"\",\r\n  });\r\n  const [showMessage, setMessage] = useState({\r\n    type: \"\",\r\n    msg: \"\",\r\n  });\r\n  const tabArrayDelet = (e) => {\r\n    const deleteArraytab={...groupValues}\r\n    deleteArraytab.tabArray.splice(deleteArraytab.tabArray.indexOf(e),1)\r\n    setGroupValues(deleteArraytab)\r\n  };\r\n  const listColumn = [\r\n    {\r\n      id: \"tab_name\",\r\n      numeric: false,\r\n      disablePadding: false,\r\n      label: \"Tab Name\",\r\n    },\r\n    {\r\n      id: \"sequence\",\r\n      numeric: true,\r\n      disablePadding: false,\r\n      label: \"Sequence\",\r\n    },\r\n  ];\r\n  const submitAddBox = () => {\r\n        let arrayList={...groupValues};\r\n    arrayList.tabArray.push(groupTab);\r\n    setGroupValues(arrayList);\r\n  };\r\n  const insertForm = async () => {\r\n    try {\r\n      let body = {\r\n        user_id: localStorage.getItem(\"userId\"),\r\n        mtab_id: groupValues.mtab_id,\r\n        mtab_name: groupValues.tab_name,\r\n        tab_id: groupValues.tab_id,\r\n        tabArray:groupValues.tabArray\r\n      };\r\n      await CommonController.commonApiCallFilter(\r\n        \"master/insert_cos_tab\",\r\n        body,\r\n        \"post\",\r\n        \"node\"\r\n      ).then((result) => {\r\n        if (result.status == 200) {\r\n          showSuccessToast(result.message);\r\n          props.onClose(0);\r\n        }\r\n      });\r\n    } catch (err) {\r\n      showErrorToast(err);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    if (props.editData) {\r\n      setGroupValues(props.editData);\r\n    }\r\n  }, [props.editData]);\r\n  const onSave = () => {\r\n    insertForm();\r\n  };\r\n  const handleOnChange = (event) => {\r\n    setGroupValues({\r\n      ...groupValues,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n  const onCancelClick = () => {\r\n    props.onClose(0);\r\n  };\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-4\">\r\n            <TextField\r\n              label=\"Tab ID\"\r\n              name=\"tab_id\"\r\n              value={groupValues.tab_id}\r\n              onChange={handleOnChange}\r\n              fullWidth\r\n              variant=\"outlined\"\r\n              size=\"small\"\r\n            />\r\n          </div>\r\n          <div className=\"col-md-4\">\r\n            <TextField\r\n              label=\"Tab Name*\"\r\n              name=\"tab_name\"\r\n              value={groupValues.group_name}\r\n              onChange={handleOnChange}\r\n              fullWidth\r\n              variant=\"outlined\"\r\n              size=\"small\"\r\n            />\r\n          </div>\r\n        </div>\r\n        {groupValues.tabArray?.length > 0 ? (\r\n          <SimpleTable\r\n            columns={listColumn}\r\n            rows={groupValues.tabArray}\r\n            onDelete={tabArrayDelet}\r\n          />\r\n        ) : null}\r\n        <hr />\r\n        <div className=\"container-fluid\">\r\n          {/* <h1>Add Box:</h1> */}\r\n          <div className=\"row mt-5\">\r\n            <div className=\"col-md-3 mb-3\">\r\n              <TextField\r\n                label=\"Tab Name\"\r\n                fullWidth\r\n                onChange={(e) => {\r\n                  setgroupTab({ ...groupTab, tab_name: e.target.value });\r\n                }}\r\n                value={groupTab.tab_name}\r\n                variant=\"outlined\"\r\n                name=\"tab_name\"\r\n                size=\"small\"\r\n              />\r\n            </div>\r\n            <div className=\"col-md-4 mb-3\">\r\n              <TextField\r\n                label=\"Sequence\"\r\n                fullWidth\r\n                onChange={(e) => {\r\n                  setgroupTab({ ...groupTab, sequence: e.target.value });\r\n                }}\r\n                value={groupTab.sequence}\r\n                variant=\"outlined\"\r\n                name=\"sequence\"\r\n                size=\"small\"\r\n              />\r\n            </div>\r\n            <div className=\"col-md-2 mb-3 pl-5\">\r\n              <Button\r\n                color=\"primary\"\r\n                className=\"mr-2\"\r\n                // disableElevation\r\n                variant=\"contained\"\r\n                onClick={submitAddBox}\r\n              >\r\n                Add New\r\n              </Button>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-md-12 mt-3 text-right\">\r\n            <Button\r\n              variant=\"contained\"\r\n              className=\"mr-2\"\r\n              onClick={onCancelClick}\r\n              disableElevation\r\n            >\r\n              Cancel\r\n            </Button>\r\n            {groupValues.type == \"preview\" ? (\r\n              \"\"\r\n            ) : (\r\n              <Button\r\n                variant=\"contained\"\r\n                onClick={onSave}\r\n                color=\"primary\"\r\n                disableElevation\r\n              >\r\n                Save\r\n              </Button>\r\n            )}\r\n          </div>\r\n          {showMessage.type != \"\" ? (\r\n            <Alert severity={showMessage.type}>{showMessage.msg}</Alert>\r\n          ) : null}\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\nexport default AddOrEditGroup;\r\n"]},"metadata":{},"sourceType":"module"}