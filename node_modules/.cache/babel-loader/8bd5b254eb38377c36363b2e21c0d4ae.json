{"ast":null,"code":"import _slicedToArray from\"F:/React code/diagnostic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{getUserRightList,getUserRightListSecond,getUserRightListThird}from\"../_redux/actions/common.action\";import MainBar from\"./appbar\";import MainMenu from\"./main_menu\";import Submenu from\"./sub_menu\";import ThirdMenu from\"./third_menu\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Header=function Header(_ref){var onHeaderClick=_ref.onHeaderClick;var dispatch=useDispatch();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),userRightListArr=_useState2[0],setUserRightList=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),subMenuList=_useState4[0],setSubMenuList=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),thirdMenuList=_useState6[0],setThirdMenuList=_useState6[1];var urlLocation=window.location.pathname.split(\"/\").filter(function(val){return val!==\"\";});// console.log(urlLocation)\nvar getuserRightListResponse=useSelector(function(state){return state.common.userRightList;});var getuserLIstSecond=useSelector(function(state){return state.common.userRightListSecond;});var getuserLIstThird=useSelector(function(state){return state.common.userRightListThird;});useEffect(function(){},[]);useEffect(function(){dispatch(getUserRightList());dispatch(getUserRightListSecond(urlLocation[1]));parseInt(urlLocation[3])===12?dispatch(getUserRightListThird(1)):dispatch(getUserRightListThird(parseInt(urlLocation[3])));},[]);useEffect(function(){var _getuserRightListResp,_getuserLIstSecond$da,_getuserLIstThird$dat;if((getuserRightListResponse===null||getuserRightListResponse===void 0?void 0:(_getuserRightListResp=getuserRightListResponse.data)===null||_getuserRightListResp===void 0?void 0:_getuserRightListResp.length)>0){setUserRightList(getuserRightListResponse.data);}if((getuserLIstSecond===null||getuserLIstSecond===void 0?void 0:(_getuserLIstSecond$da=getuserLIstSecond.data)===null||_getuserLIstSecond$da===void 0?void 0:_getuserLIstSecond$da.length)>0){setSubMenuList(getuserLIstSecond.data);}if((getuserLIstThird===null||getuserLIstThird===void 0?void 0:(_getuserLIstThird$dat=getuserLIstThird.data)===null||_getuserLIstThird$dat===void 0?void 0:_getuserLIstThird$dat.length)>0){setThirdMenuList(getuserLIstThird.data);}else{setThirdMenuList([]);}},[getuserRightListResponse,getuserLIstSecond,getuserLIstThird]);var handleMenuChange=function handleMenuChange(id){var tempMenuIndex=userRightListArr.findIndex(function(x){return x.transaction_id===id;});if(userRightListArr[tempMenuIndex].display_name!==\"Profile\"){dispatch(getUserRightListSecond(id));dispatch(getUserRightListThird(1));//  console.log(\"cvgbhn\")\n//  setTimeout((tt) => {\n// console.log(tt)\n//   parseInt(urlLocation[3])===12?dispatch(getUserRightListThird(1)):dispatch(getUserRightListThird(parseInt(urlLocation[3])))\n//   console.log(urlLocation[3])\n//  },8000,urlLocation);\n//  console.log(\"g\")\n}};var handleSubMenu=function handleSubMenu(id){if(subMenuList.length>0){id===12?dispatch(getUserRightListThird(1)):dispatch(getUserRightListThird(id));}};return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(MainBar,{onMenuClick:function onMenuClick(){return onHeaderClick();}}),/*#__PURE__*/_jsx(MainMenu,{list:userRightListArr,onMenuChange:handleMenuChange}),subMenuList.length>0?/*#__PURE__*/_jsx(Submenu,{list:subMenuList,onSubMenuChange:handleSubMenu}):null,thirdMenuList.length>0&&subMenuList.length>0?/*#__PURE__*/_jsx(ThirdMenu,{list:thirdMenuList,list2:subMenuList}):null]});};export default Header;","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","getUserRightList","getUserRightListSecond","getUserRightListThird","MainBar","MainMenu","Submenu","ThirdMenu","Header","onHeaderClick","dispatch","userRightListArr","setUserRightList","subMenuList","setSubMenuList","thirdMenuList","setThirdMenuList","urlLocation","window","location","pathname","split","filter","val","getuserRightListResponse","state","common","userRightList","getuserLIstSecond","userRightListSecond","getuserLIstThird","userRightListThird","parseInt","data","length","handleMenuChange","id","tempMenuIndex","findIndex","x","transaction_id","display_name","handleSubMenu"],"sources":["F:/React code/diagnostic/src/components/header.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  getUserRightList,\r\n  getUserRightListSecond,\r\n  getUserRightListThird,\r\n} from \"../_redux/actions/common.action\";\r\nimport MainBar from \"./appbar\";\r\nimport MainMenu from \"./main_menu\";\r\nimport Submenu from \"./sub_menu\";\r\nimport ThirdMenu from \"./third_menu\";\r\nconst Header = ({ onHeaderClick }) => {\r\n  const dispatch = useDispatch();\r\n  const [userRightListArr, setUserRightList] = useState([]);\r\n  const [subMenuList, setSubMenuList] = useState([]);\r\n  const [thirdMenuList, setThirdMenuList] = useState([])\r\n  \r\n  let urlLocation=window.location.pathname\r\n  .split(\"/\")\r\n  .filter((val) => val !== \"\");\r\n  // console.log(urlLocation)\r\n  const getuserRightListResponse = useSelector(\r\n    (state) => state.common.userRightList\r\n  );\r\n  const getuserLIstSecond=useSelector(\r\n    (state) => state.common.userRightListSecond\r\n  );\r\n  const getuserLIstThird=useSelector(\r\n    (state) => state.common.userRightListThird\r\n  );\r\n  useEffect(() => {\r\n    \r\n  }, []);\r\n  useEffect(()=>{\r\n    dispatch(getUserRightList());\r\n    dispatch(getUserRightListSecond(urlLocation[1]));\r\n    parseInt(urlLocation[3])===12?dispatch(getUserRightListThird(1)):dispatch(getUserRightListThird(parseInt(urlLocation[3])))\r\n  },[])\r\n  useEffect(() => {\r\n    if (getuserRightListResponse?.data?.length > 0) {\r\n      setUserRightList(getuserRightListResponse.data);\r\n    }\r\n    if (getuserLIstSecond?.data?.length > 0) {\r\n      setSubMenuList(getuserLIstSecond.data);\r\n    }\r\n    if (getuserLIstThird?.data?.length > 0) {\r\n      setThirdMenuList(getuserLIstThird.data);\r\n    }else{\r\n      setThirdMenuList([]);\r\n    }\r\n  }, [getuserRightListResponse,getuserLIstSecond,getuserLIstThird]);\r\n  \r\n  const handleMenuChange =(id) => {\r\n    var tempMenuIndex = userRightListArr.findIndex((x) => x.transaction_id === id);\r\n    if (userRightListArr[tempMenuIndex].display_name !== \"Profile\") {\r\n     dispatch(getUserRightListSecond(id));\r\n     dispatch(getUserRightListThird(1));\r\n    //  console.log(\"cvgbhn\")\r\n    //  setTimeout((tt) => {\r\n    // console.log(tt)\r\n    //   parseInt(urlLocation[3])===12?dispatch(getUserRightListThird(1)):dispatch(getUserRightListThird(parseInt(urlLocation[3])))\r\n    //   console.log(urlLocation[3])\r\n    //  },8000,urlLocation);\r\n    //  console.log(\"g\")\r\n   \r\n    }\r\n  };\r\n  const handleSubMenu = (id) => {\r\n    if(subMenuList.length>0){\r\n    id===12?dispatch(getUserRightListThird(1)):dispatch(getUserRightListThird(id))\r\n      \r\n    }\r\n  }\r\n  return (\r\n    <React.Fragment>\r\n      <MainBar onMenuClick={() => onHeaderClick()} />\r\n      <MainMenu list={userRightListArr} onMenuChange={handleMenuChange} />\r\n      {subMenuList.length > 0 ? <Submenu list={subMenuList} onSubMenuChange={handleSubMenu} /> : null}\r\n      {(thirdMenuList.length > 0)&&(subMenuList.length>0) ? <ThirdMenu list={thirdMenuList} list2={subMenuList} /> : null}\r\n    </React.Fragment>\r\n  );\r\n};\r\nexport default Header;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}