{"ast":null,"code":"var _jsxFileName = \"F:\\\\React code\\\\diagnostic\\\\src\\\\pages\\\\Profile\\\\changePassword.js\",\n  _s = $RefreshSig$();\nimport { Button, TextField } from \"@material-ui/core\";\nimport React, { useState } from \"react\";\nimport { showErrorToast, showSuccessToast } from \"../../components/common\";\nimport { CommonController } from \"../../_redux/controller/common.controller\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ChangePassword = () => {\n  _s();\n  const [formData, setFormData] = useState({\n    oldpass: \"\",\n    newpass: \"\",\n    confpass: \"\",\n    user_id: localStorage.getItem(\"userId\"),\n    errors: {}\n  });\n  const [loading, setLoading] = useState(false);\n  const handleChange = event => {\n    setFormData({\n      ...formData,\n      [event.target.name]: event.target.value\n    });\n  };\n  const validateForm = () => {\n    let errors = {\n      ...formData.errors\n    };\n    if (formData.oldpass == \"\") {\n      errors.oldpass = \"Please enter old password\";\n    } else {\n      delete errors.oldpass;\n    }\n    if (formData.newpass == \"\") {\n      errors.newpass = \"Please enter new password\";\n    } else {\n      delete errors.newpass;\n    }\n    if (formData.confpass == \"\") {\n      errors.confpass = \"Please enter confirm password\";\n    } else {\n      delete errors.confpass;\n    }\n    console.log(errors);\n    setFormData({\n      ...formData,\n      errors: errors\n    });\n    return Object.keys(errors).length !== 0;\n  };\n  const onSubmit = async () => {\n    try {\n      setLoading(true);\n      if (!validateForm()) {\n        await CommonController.commonApiCallFilter(\"Profile/UpdateEmployeePassword\", formData, \"post\").then(data => {\n          if (data.valid) {\n            showSuccessToast(\"Password changed successfully \");\n          } else {\n            showErrorToast(data.msg);\n          }\n        });\n      }\n      setLoading(false);\n    } catch (err) {\n      showErrorToast(err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card shadow\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-body\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-3\",\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            variant: \"outlined\",\n            fullWidth: true,\n            size: \"small\",\n            value: formData.oldpass,\n            name: \"oldpass\",\n            type: \"password\",\n            label: \"Old Password\",\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this), formData.errors && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mb-0 text-danger\",\n            children: formData.errors.oldpass\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-3\",\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            variant: \"outlined\",\n            fullWidth: true,\n            size: \"small\",\n            name: \"newpass\",\n            type: \"password\",\n            value: formData.newpass,\n            label: \"New Password\",\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this), formData.errors && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mb-0 text-danger\",\n            children: formData.errors.newpass\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-3\",\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            variant: \"outlined\",\n            fullWidth: true,\n            size: \"small\",\n            name: \"confpass\",\n            value: formData.confpass,\n            label: \"Conf. Password\",\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this), formData.errors && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mb-0 text-danger\",\n            children: formData.errors.confpass\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-12 mt-5\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            disable: loading,\n            variant: \"contained\",\n            onClick: onSubmit,\n            disableElevation: true,\n            color: \"primary\",\n            children: loading ? \"Processing...\" : \"Update Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n};\n_s(ChangePassword, \"R0VPaX29MF5Qm39cxRWYQOFwz6c=\");\n_c = ChangePassword;\nexport default ChangePassword;\nvar _c;\n$RefreshReg$(_c, \"ChangePassword\");","map":{"version":3,"names":["Button","TextField","React","useState","showErrorToast","showSuccessToast","CommonController","ChangePassword","formData","setFormData","oldpass","newpass","confpass","user_id","localStorage","getItem","errors","loading","setLoading","handleChange","event","target","name","value","validateForm","console","log","Object","keys","length","onSubmit","commonApiCallFilter","then","data","valid","msg","err"],"sources":["F:/React code/diagnostic/src/pages/Profile/changePassword.js"],"sourcesContent":["import { Button, TextField } from \"@material-ui/core\";\nimport React, { useState } from \"react\";\nimport { showErrorToast, showSuccessToast } from \"../../components/common\";\nimport { CommonController } from \"../../_redux/controller/common.controller\";\n\nconst ChangePassword = () => {\n  const [formData, setFormData] = useState({\n    oldpass: \"\",\n    newpass: \"\",\n    confpass: \"\",\n    user_id: localStorage.getItem(\"userId\"),\n    errors: {},\n  });\n\n  const [loading, setLoading] = useState(false);\n\n  const handleChange = (event) => {\n    setFormData({ ...formData, [event.target.name]: event.target.value });\n  };\n\n  const validateForm = () => {\n    let errors = { ...formData.errors };\n    if (formData.oldpass == \"\") {\n      errors.oldpass = \"Please enter old password\";\n    } else {\n      delete errors.oldpass;\n    }\n    if (formData.newpass == \"\") {\n      errors.newpass = \"Please enter new password\";\n    } else {\n      delete errors.newpass;\n    }\n    if (formData.confpass == \"\") {\n      errors.confpass = \"Please enter confirm password\";\n    } else {\n      delete errors.confpass;\n    }\n    console.log(errors);\n    setFormData({ ...formData, errors: errors });\n    return Object.keys(errors).length !== 0;\n  };\n\n  const onSubmit = async () => {\n    try {\n      setLoading(true);\n      if (!validateForm()) {\n        await CommonController.commonApiCallFilter(\n          \"Profile/UpdateEmployeePassword\",\n          formData,\n          \"post\"\n        ).then((data) => {\n          if (data.valid) {\n            showSuccessToast(\"Password changed successfully \");\n          } else {\n            showErrorToast(data.msg);\n          }\n        });\n      }\n      setLoading(false);\n    } catch (err) {\n      showErrorToast(err);\n    }\n  };\n\n  return (\n    <div className=\"card shadow\">\n      <div className=\"card-body\">\n        <div className=\"row\">\n          <div className=\"col-md-3\">\n            <TextField\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              value={formData.oldpass}\n              name=\"oldpass\"\n              type=\"password\"\n              label=\"Old Password\"\n              onChange={handleChange}\n            />\n            {formData.errors && (\n              <p className=\"mb-0 text-danger\">{formData.errors.oldpass}</p>\n            )}\n          </div>\n          <div className=\"col-md-3\">\n            <TextField\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"newpass\"\n              type=\"password\"\n              value={formData.newpass}\n              label=\"New Password\"\n              onChange={handleChange}\n            />\n            {formData.errors && (\n              <p className=\"mb-0 text-danger\">{formData.errors.newpass}</p>\n            )}\n          </div>\n          <div className=\"col-md-3\">\n            <TextField\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"confpass\"\n              value={formData.confpass}\n              label=\"Conf. Password\"\n              onChange={handleChange}\n            />\n            {formData.errors && (\n              <p className=\"mb-0 text-danger\">{formData.errors.confpass}</p>\n            )}\n          </div>\n          <div className=\"col-md-12 mt-5\">\n            <Button\n              disable={loading}\n              variant=\"contained\"\n              onClick={onSubmit}\n              disableElevation\n              color=\"primary\"\n            >\n              {loading ? \"Processing...\" : \"Update Password\"}\n            </Button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ChangePassword;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}