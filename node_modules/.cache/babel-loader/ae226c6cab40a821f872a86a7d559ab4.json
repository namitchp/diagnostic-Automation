{"ast":null,"code":"import _objectSpread from\"F:/React code/diagnostic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"F:/React code/diagnostic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{Redirect,Switch}from\"react-router-dom\";import CustomBreadcrumb from\"../components/breadcrumbs\";import Header from\"../components/header\";import RouteWithSubRoutes from\"../components/RouteWithSubRoutes\";import Sidebar from\"../components/sidebar\";import routes from\"../routes\";import{getUserFilterList,getUserRightList}from\"../_redux/actions/common.action\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MainLayout=function MainLayout(){var dispatch=useDispatch();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showSideBar=_useState2[0],setShowSidebar=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),pinSidebar=_useState4[0],setPinSidebar=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),userRightListArr=_useState6[0],setUserRightList=_useState6[1];var getuserRightListResponse=useSelector(function(state){return state.common.userRightList;});var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),subMenuList=_useState8[0],setSubMenuList=_useState8[1];var _useState9=useState({main:null,subMenu:null}),_useState10=_slicedToArray(_useState9,2),selectedItems=_useState10[0],setSelectedItems=_useState10[1];useEffect(function(){dispatch(getUserRightList());// dispatch(getUserFilterList());\n},[]);var groupBy=function groupBy(array,key){// Return the end result\nreturn array.reduce(function(result,currentValue){// If an array already present for key, push it to the array. Else create an array and push the object\n(result[currentValue[key]]=result[currentValue[key]]||[]).push(currentValue);// Return the current iteration `result` value, this will be taken as next iteration `result` value and accumulate\nreturn result;},{});// empty object is the initial value for result object\n};useEffect(function(){if((getuserRightListResponse===null||getuserRightListResponse===void 0?void 0:getuserRightListResponse.length)>0){var groupedMenu=groupBy(getuserRightListResponse,\"group_name\");setUserRightList(getuserRightListResponse);}},[getuserRightListResponse]);var handleMenuChange=function handleMenuChange(id){var tempMenuIndex=userRightListArr.findIndex(function(x){return x.menu_id===id;});if(tempMenuIndex>-1){setSubMenuList(userRightListArr[tempMenuIndex].transaction_lst);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"main-frame\",children:[/*#__PURE__*/_jsx(Header,{onHeaderClick:function onHeaderClick(){return setShowSidebar(!showSideBar);}}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-5\",children:[/*#__PURE__*/_jsx(CustomBreadcrumb,{}),/*#__PURE__*/_jsxs(Switch,{children:[routes.map(function(route,i){return/*#__PURE__*/_jsx(RouteWithSubRoutes,_objectSpread({},route),i);}),/*#__PURE__*/_jsx(Redirect,{from:\"/\",to:\"/dashboard\"})]})]})]});};export default MainLayout;","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","Redirect","Switch","CustomBreadcrumb","Header","RouteWithSubRoutes","Sidebar","routes","getUserFilterList","getUserRightList","MainLayout","dispatch","showSideBar","setShowSidebar","pinSidebar","setPinSidebar","userRightListArr","setUserRightList","getuserRightListResponse","state","common","userRightList","subMenuList","setSubMenuList","main","subMenu","selectedItems","setSelectedItems","groupBy","array","key","reduce","result","currentValue","push","length","groupedMenu","handleMenuChange","id","tempMenuIndex","findIndex","x","menu_id","transaction_lst","map","route","i"],"sources":["F:/React code/diagnostic/src/layouts/layout.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Redirect, Switch } from \"react-router-dom\";\r\nimport CustomBreadcrumb from \"../components/breadcrumbs\";\r\nimport Header from \"../components/header\";\r\nimport RouteWithSubRoutes from \"../components/RouteWithSubRoutes\";\r\nimport Sidebar from \"../components/sidebar\";\r\nimport routes from \"../routes\";\r\nimport {\r\n  getUserFilterList,\r\n  getUserRightList,\r\n} from \"../_redux/actions/common.action\";\r\n\r\nconst MainLayout = () => {\r\n  const dispatch = useDispatch();\r\n  const [showSideBar, setShowSidebar] = useState(false);\r\n  const [pinSidebar, setPinSidebar] = useState(false);\r\n\r\n  const [userRightListArr, setUserRightList] = useState([]);\r\n  const getuserRightListResponse = useSelector(\r\n    (state) => state.common.userRightList\r\n  );\r\n\r\n  const [subMenuList, setSubMenuList] = useState([]);\r\n  const [selectedItems, setSelectedItems] = useState({\r\n    main: null,\r\n    subMenu: null,\r\n  });\r\n\r\n  useEffect(() => {\r\n    dispatch(getUserRightList());\r\n    // dispatch(getUserFilterList());\r\n  }, []);\r\n\r\n  const groupBy = (array, key) => {\r\n    // Return the end result\r\n    return array.reduce((result, currentValue) => {\r\n      // If an array already present for key, push it to the array. Else create an array and push the object\r\n      (result[currentValue[key]] = result[currentValue[key]] || []).push(\r\n        currentValue\r\n      );\r\n      // Return the current iteration `result` value, this will be taken as next iteration `result` value and accumulate\r\n      return result;\r\n    }, {}); // empty object is the initial value for result object\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (getuserRightListResponse?.length > 0) {\r\n      const groupedMenu = groupBy(getuserRightListResponse, \"group_name\");\r\n\r\n      setUserRightList(getuserRightListResponse);\r\n    }\r\n  }, [getuserRightListResponse]);\r\n\r\n  const handleMenuChange = (id) => {\r\n    var tempMenuIndex = userRightListArr.findIndex((x) => x.menu_id === id);\r\n    if (tempMenuIndex > -1) {\r\n      setSubMenuList(userRightListArr[tempMenuIndex].transaction_lst);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"main-frame\">\r\n      <Header onHeaderClick={() => setShowSidebar(!showSideBar)} />\r\n      <div className=\"mt-5\">\r\n        <CustomBreadcrumb />\r\n        <Switch>\r\n          {routes.map((route, i) => (\r\n            <RouteWithSubRoutes key={i} {...route} />\r\n          ))}\r\n          <Redirect from=\"/\" to=\"/dashboard\" />\r\n        </Switch>\r\n      </div>\r\n\r\n      {/* <div className=\"container-fluid p-0\">\r\n        <div className=\"row\">\r\n          <div className={pinSidebar ? \"col-md-2\" : \"sidebar-fixed\"}>\r\n            <Sidebar menuList={userRightListArr} show={showSideBar} />\r\n          </div>\r\n\r\n          <div className={pinSidebar ? \"col-md-10\" : \"col-md-12\"}>\r\n            <Header onHeaderClick={() => setShowSidebar(!showSideBar)} />\r\n            <CustomBreadcrumb />\r\n            <Switch>\r\n              {routes.map((route, i) => (\r\n                <RouteWithSubRoutes key={i} {...route} />\r\n              ))}\r\n              <Redirect from=\"/\" to=\"/dashboard\" />\r\n            </Switch>\r\n          </div>\r\n        </div>\r\n      </div> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MainLayout;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}