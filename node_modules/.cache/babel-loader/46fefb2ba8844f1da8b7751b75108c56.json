{"ast":null,"code":"import _defineProperty from\"F:/React code/diagnostic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"F:/React code/diagnostic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"F:/React code/diagnostic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"F:/React code/diagnostic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"F:/React code/diagnostic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{TextField,Button,MenuItem,Checkbox,FormControlLabel}from\"@material-ui/core\";import{Alert}from\"@material-ui/lab\";import{CommonController}from\"../../../../_redux/controller/common.controller\";import{showErrorToast,showSuccessToast}from\"../../../../components/common\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddOrEditGroup=function AddOrEditGroup(props){var _useState=useState({transaction_id:0,transaction_name:\"\",display_name:\"\",sequence:null,parent_id:null,main_form:null,level:null}),_useState2=_slicedToArray(_useState,2),groupValues=_useState2[0],setGroupValues=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),listtransection=_useState4[0],setlisttransection=_useState4[1];var _useState5=useState({type:\"\",msg:\"\"}),_useState6=_slicedToArray(_useState5,2),showMessage=_useState6[0],setMessage=_useState6[1];var insertForm=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var body;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;body=_objectSpread({},groupValues);body.user_id=localStorage.getItem(\"userId\");_context.next=5;return CommonController.commonApiCallFilter(\"master/insert_menu\",body,\"post\",\"node\").then(function(result){if(result.status==200){showSuccessToast(result.message);props.onClose(0);}});case 5:_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);showErrorToast(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function insertForm(){return _ref.apply(this,arguments);};}();var listTransection=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var body;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;body={transaction_id:groupValues.transaction_id};_context2.next=4;return CommonController.commonApiCallFilter(\"master/list_transection\",body,\"post\",\"node\").then(function(result){if(result.status==200){setlisttransection(result.data);}});case 4:_context2.next=9;break;case 6:_context2.prev=6;_context2.t0=_context2[\"catch\"](0);showErrorToast(_context2.t0);case 9:case\"end\":return _context2.stop();}}},_callee2,null,[[0,6]]);}));return function listTransection(){return _ref2.apply(this,arguments);};}();useEffect(function(){if(props.editData){setGroupValues(props.editData);listTransection();}},[props.editData]);var onSave=function onSave(){insertForm();};var handleOnChange=function handleOnChange(event){console.log(event.target.value);console.log(event.target.name);setGroupValues(_objectSpread(_objectSpread({},groupValues),{},_defineProperty({},event.target.name,event.target.value)));};var onCancelClick=function onCancelClick(){props.onClose(0);};return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsx(TextField,{label:\"Transaction ID\",name:\"transaction_id\",disabled:true,value:groupValues.transaction_id,onChange:handleOnChange,fullWidth:true,variant:\"outlined\",size:\"small\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsx(TextField,{label:\"Display Name\",name:\"display_name\",value:groupValues.display_name,onChange:handleOnChange,fullWidth:true,variant:\"outlined\",size:\"small\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsx(TextField,{multiline:true,label:\"sequence\",value:groupValues.sequence,onChange:handleOnChange,name:\"sequence\",fullWidth:true,variant:\"outlined\",size:\"small\",type:\"number\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 py-5\",children:/*#__PURE__*/_jsx(TextField,{multiline:true,label:\"Level\",value:groupValues.level,onChange:handleOnChange,name:\"level\",fullWidth:true,variant:\"outlined\",size:\"small\",type:\"number\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 py-5\",children:/*#__PURE__*/_jsxs(TextField//  id=\"outlined-select-currency\"\n,{select:true,label:\"Parent Id\",onChange:handleOnChange,name:\"parent_id\",fullWidth:true,variant:\"outlined\",size:\"small\",SelectProps:{native:true},children:[/*#__PURE__*/_jsx(\"option\",{value:groupValues.parent_id,children:groupValues.parent_transaction}),listtransection.map(function(val){return/*#__PURE__*/_jsx(\"option\",{value:val.transaction_id,children:val.transaction_name},val.transaction_id);})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 py-5\",children:/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Checkbox,{color:\"primary\",checked:groupValues.main_form===true,onChange:function onChange(e){return setGroupValues(_objectSpread(_objectSpread({},groupValues),{},{main_form:e.target.checked}));}}),label:\"Main Form\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-12 mt-3 text-right\",children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",className:\"mr-2\",onClick:onCancelClick,disableElevation:true,children:\"Cancel\"}),groupValues.type==\"preview\"?\"\":/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:onSave,color:\"primary\",disableElevation:true,children:\"Save\"})]}),showMessage.type!=\"\"?/*#__PURE__*/_jsx(Alert,{severity:showMessage.type,children:showMessage.msg}):null]})})});};export default AddOrEditGroup;","map":{"version":3,"names":["React","useEffect","useState","TextField","Button","MenuItem","Checkbox","FormControlLabel","Alert","CommonController","showErrorToast","showSuccessToast","AddOrEditGroup","props","transaction_id","transaction_name","display_name","sequence","parent_id","main_form","level","groupValues","setGroupValues","listtransection","setlisttransection","type","msg","showMessage","setMessage","insertForm","body","user_id","localStorage","getItem","commonApiCallFilter","then","result","status","message","onClose","listTransection","data","editData","onSave","handleOnChange","event","console","log","target","value","name","onCancelClick","native","parent_transaction","map","val","e","checked"],"sources":["F:/React code/diagnostic/src/pages/Master/Configuration/menustructure/form.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { TextField, Button, MenuItem, Checkbox, FormControlLabel} from \"@material-ui/core\";\r\nimport { Alert } from \"@material-ui/lab\";\r\nimport { CommonController } from \"../../../../_redux/controller/common.controller\";\r\nimport {\r\n  showErrorToast,\r\n  showSuccessToast,\r\n} from \"../../../../components/common\";\r\n\r\n\r\nconst AddOrEditGroup = (props) => {\r\n  const [groupValues, setGroupValues] = useState({\r\n    transaction_id: 0,\r\n    transaction_name: \"\",\r\n    display_name: \"\",\r\n    sequence: null,\r\n    parent_id:null,\r\n    main_form:null,\r\n    level:null\r\n  });\r\n  const [listtransection, setlisttransection] = useState([])\r\n  const [showMessage, setMessage] = useState({\r\n    type: \"\",\r\n    msg: \"\",\r\n  });\r\n  const insertForm = async () => {\r\n    try {\r\n      let body = {...groupValues}\r\n        body.user_id= localStorage.getItem(\"userId\")\r\n  \r\n      await CommonController.commonApiCallFilter(\r\n        \"master/insert_menu\",\r\n        body,\r\n        \"post\",\r\n        \"node\"\r\n      ).then((result) => {\r\n        if (result.status == 200) {\r\n          showSuccessToast(result.message);\r\n          props.onClose(0);\r\n        }\r\n      });\r\n    } catch (err) {\r\n      showErrorToast(err);\r\n    }\r\n  };\r\n  const listTransection = async () => {\r\n    try {\r\n\r\n      let body = {\r\n        transaction_id: groupValues.transaction_id,\r\n      };\r\n      await CommonController.commonApiCallFilter(\r\n        \"master/list_transection\",\r\n        body,\r\n        \"post\",\r\n        \"node\"\r\n      ).then((result) => {\r\n        if (result.status == 200) {\r\n            setlisttransection(result.data)\r\n        }\r\n      });\r\n    } catch (err) {\r\n      showErrorToast(err);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    if (props.editData) {\r\n      setGroupValues(props.editData);\r\n      listTransection()\r\n    }\r\n  }, [props.editData]);\r\n  const onSave = () => {\r\n    insertForm();\r\n  };\r\n  const handleOnChange = (event) => {\r\n    console.log(event.target.value)\r\n    console.log(event.target.name)\r\n    setGroupValues({\r\n      ...groupValues,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n  const onCancelClick = () => {\r\n    props.onClose(0);\r\n  };\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-4\">\r\n            <TextField\r\n              label=\"Transaction ID\"\r\n              name=\"transaction_id\"\r\n              disabled\r\n              value={groupValues.transaction_id}\r\n              onChange={handleOnChange}\r\n              fullWidth\r\n              variant=\"outlined\"\r\n              size=\"small\"\r\n            />\r\n          </div>\r\n          <div className=\"col-md-4\">\r\n            <TextField\r\n              label=\"Display Name\"\r\n              name=\"display_name\"\r\n              value={groupValues.display_name}\r\n              onChange={handleOnChange}\r\n              fullWidth\r\n              variant=\"outlined\"\r\n              size=\"small\"\r\n            />\r\n          </div>\r\n          <div className=\"col-md-4\">\r\n            <TextField\r\n              multiline\r\n              label=\"sequence\"\r\n              value={groupValues.sequence}\r\n              onChange={handleOnChange}\r\n              name=\"sequence\"\r\n              fullWidth\r\n              variant=\"outlined\"\r\n              size=\"small\"\r\n              type=\"number\"\r\n            />\r\n          </div>\r\n          <div className=\"col-md-4 py-5\">\r\n            <TextField\r\n              multiline\r\n              label=\"Level\"\r\n              value={groupValues.level}\r\n              onChange={handleOnChange}\r\n              name=\"level\"\r\n              fullWidth\r\n              variant=\"outlined\"\r\n              size=\"small\"\r\n              type=\"number\"\r\n            />\r\n          </div>\r\n          <div className=\"col-md-4 py-5\">\r\n            <TextField\r\n            //  id=\"outlined-select-currency\"\r\n             select\r\n             label=\"Parent Id\"\r\n             onChange={handleOnChange}\r\n              name=\"parent_id\"\r\n              fullWidth\r\n              variant=\"outlined\"\r\n              size=\"small\"\r\n              SelectProps={{\r\n                native: true,\r\n              }}\r\n            >\r\n              <option value={groupValues.parent_id}>{groupValues.parent_transaction}</option>\r\n                {listtransection.map(val=>(\r\n                    <option key={val.transaction_id} value={val.transaction_id}>{val.transaction_name}</option>\r\n                ))}\r\n            </TextField>\r\n          </div>\r\n          <div className=\"col-md-4 py-5\">\r\n          {/* <FormControlLabel control={<Checkbox color=\"primary\" checked={groupValues.main_form ===true}/>} label=\"Main Form\" /> */}\r\n          <FormControlLabel control={<Checkbox color=\"primary\"checked={groupValues.main_form ===true} onChange={(e)=>setGroupValues({...groupValues,main_form:e.target.checked})}/>} label=\"Main Form\" />\r\n          </div>\r\n          <div className=\"col-md-12 mt-3 text-right\">\r\n            <Button\r\n              variant=\"contained\"\r\n              className=\"mr-2\"\r\n              onClick={onCancelClick}\r\n              disableElevation\r\n            >\r\n              Cancel\r\n            </Button>\r\n            {groupValues.type == \"preview\" ? (\r\n              \"\"\r\n            ) : (\r\n              <Button\r\n                variant=\"contained\"\r\n                onClick={onSave}\r\n                color=\"primary\"\r\n                disableElevation\r\n              >\r\n                Save\r\n              </Button>\r\n            )}\r\n          </div>\r\n          {showMessage.type != \"\" ? (\r\n            <Alert severity={showMessage.type}>{showMessage.msg}</Alert>\r\n          ) : null}\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\nexport default AddOrEditGroup;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}