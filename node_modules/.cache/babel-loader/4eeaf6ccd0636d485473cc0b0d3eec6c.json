{"ast":null,"code":"import _regeneratorRuntime from\"F:/React code/diagnostic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"F:/React code/diagnostic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"F:/React code/diagnostic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"F:/React code/diagnostic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{TextField,Button}from\"@material-ui/core\";import React,{useEffect,useState}from\"react\";import SimpleReactValidator from\"simple-react-validator\";import{buttonLoader,showErrorToast,showSuccessToast}from\"../../../components/common\";import{CommonController}from\"../../../_redux/controller/common.controller\";import useForceUpdate from\"use-force-update\";import{useSelector}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddGodown=function AddGodown(_ref){var onClose=_ref.onClose;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var selectedIdResponse=useSelector(function(state){return state.AllReducersMaster.godownId;});var _useState3=useState(new SimpleReactValidator()),_useState4=_slicedToArray(_useState3,2),validator=_useState4[0],setValidator=_useState4[1];var forceUpdate=useForceUpdate();var _useState5=useState({godown_id:\"0\",godown_name:\"\",address:\"\",user_id:\"\"}),_useState6=_slicedToArray(_useState5,2),insertParams=_useState6[0],setInsertParams=_useState6[1];useEffect(function(){if(selectedIdResponse){CommonController.commonApiCallFilter(\"Godown/GodownMasterPreview\",{godown_id:selectedIdResponse}).then(function(data){if(data.godown_id){setInsertParams(_objectSpread(_objectSpread({},insertParams),{},{godown_id:data.godown_id,godown_name:data.godown_name,address:data.address}));}else{showErrorToast(\"Something went wrong\");}});}},[selectedIdResponse]);var insertCombo=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(validator.allValid()){setLoading(true);CommonController.commonApiCallFilter(\"Godown/GodownMasterInsert\",insertParams).then(function(data){if(data.valid){showSuccessToast(\"Successfully Saved\");setLoading(false);}else{showErrorToast(\"Something went wrong\");}});}else{validator.showMessages();// rerender to show messages for the first time\n// you can use the autoForceUpdate option to do this automatically`\nforceUpdate();}case 1:case\"end\":return _context.stop();}}},_callee);}));return function insertCombo(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid mt-5 pt-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",fullWidth:true,size:\"small\",label:\"Godown Name*\",value:insertParams.godown_name,onChange:function onChange(event){setInsertParams(_objectSpread(_objectSpread({},insertParams),{},{godown_name:event.target.value}));}}),/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:validator.message(\"Godown Name\",insertParams.godown_name,\"required\")})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",fullWidth:true,size:\"small\",multiline:true,label:\"Address\",value:insertParams.address,onChange:function onChange(event){setInsertParams(_objectSpread(_objectSpread({},insertParams),{},{address:event.target.value}));}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-100 text-right mt-4\",children:[/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return onClose();},variant:\"contained\",className:\"mr-2\",color:\"primary\",disableElevation:true,children:\"Cancel\"}),buttonLoader(loading,\"Save\",insertCombo,\"primary\")]})]});};export default AddGodown;","map":{"version":3,"names":["TextField","Button","React","useEffect","useState","SimpleReactValidator","buttonLoader","showErrorToast","showSuccessToast","CommonController","useForceUpdate","useSelector","AddGodown","onClose","loading","setLoading","selectedIdResponse","state","AllReducersMaster","godownId","validator","setValidator","forceUpdate","godown_id","godown_name","address","user_id","insertParams","setInsertParams","commonApiCallFilter","then","data","insertCombo","allValid","valid","showMessages","event","target","value","message"],"sources":["F:/React code/diagnostic/src/pages/Master/godown/addEntry.js"],"sourcesContent":["import { TextField, Button } from \"@material-ui/core\";\nimport React, { useEffect, useState } from \"react\";\nimport SimpleReactValidator from \"simple-react-validator\";\nimport {\n  buttonLoader,\n  showErrorToast,\n  showSuccessToast,\n} from \"../../../components/common\";\nimport { CommonController } from \"../../../_redux/controller/common.controller\";\nimport useForceUpdate from \"use-force-update\";\nimport { useSelector } from \"react-redux\";\nconst AddGodown = ({ onClose }) => {\n  const [loading, setLoading] = useState(false);\n  const selectedIdResponse = useSelector(\n    (state) => state.AllReducersMaster.godownId\n  );\n  const [validator, setValidator] = useState(new SimpleReactValidator());\n\n  const forceUpdate = useForceUpdate();\n\n  const [insertParams, setInsertParams] = useState({\n    godown_id: \"0\",\n    godown_name: \"\",\n    address: \"\",\n    user_id: \"\",\n  });\n\n  useEffect(() => {\n    if (selectedIdResponse) {\n      CommonController.commonApiCallFilter(\"Godown/GodownMasterPreview\", {\n        godown_id: selectedIdResponse,\n      }).then((data) => {\n        if (data.godown_id) {\n          setInsertParams({\n            ...insertParams,\n            godown_id: data.godown_id,\n            godown_name: data.godown_name,\n            address: data.address,\n          });\n        } else {\n          showErrorToast(\"Something went wrong\");\n        }\n      });\n    }\n  }, [selectedIdResponse]);\n\n  const insertCombo = async () => {\n    if (validator.allValid()) {\n      setLoading(true);\n      CommonController.commonApiCallFilter(\n        \"Godown/GodownMasterInsert\",\n        insertParams\n      ).then((data) => {\n        if (data.valid) {\n          showSuccessToast(\"Successfully Saved\");\n          setLoading(false);\n        } else {\n          showErrorToast(\"Something went wrong\");\n        }\n      });\n    } else {\n      validator.showMessages();\n      // rerender to show messages for the first time\n      // you can use the autoForceUpdate option to do this automatically`\n      forceUpdate();\n    }\n  };\n\n  return (\n    <div className=\"container-fluid mt-5 pt-5\">\n      {/* {loading && <Loader />} */}\n      <div className=\"row\">\n        <div className=\"col-md-6\">\n          <TextField\n            variant=\"outlined\"\n            fullWidth\n            size=\"small\"\n            label=\"Godown Name*\"\n            value={insertParams.godown_name}\n            onChange={(event) => {\n              setInsertParams({\n                ...insertParams,\n                godown_name: event.target.value,\n              });\n            }}\n          />\n          <p className=\"text-danger\">\n            {validator.message(\n              \"Godown Name\",\n              insertParams.godown_name,\n              \"required\"\n            )}\n          </p>\n        </div>\n        <div className=\"col-md-6\">\n          <TextField\n            variant=\"outlined\"\n            fullWidth\n            size=\"small\"\n            multiline\n            label=\"Address\"\n            value={insertParams.address}\n            onChange={(event) => {\n              setInsertParams({ ...insertParams, address: event.target.value });\n            }}\n          />\n        </div>\n      </div>\n      <div className=\"w-100 text-right mt-4\">\n        <Button\n          onClick={() => onClose()}\n          variant=\"contained\"\n          className=\"mr-2\"\n          color=\"primary\"\n          disableElevation\n        >\n          Cancel\n        </Button>\n        {buttonLoader(loading, \"Save\", insertCombo, \"primary\")}\n      </div>\n    </div>\n  );\n};\n\nexport default AddGodown;\n"],"mappings":"wjBAAA,OAASA,SAAS,CAAEC,MAAM,KAAQ,mBAAmB,CACrD,MAAOC,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAOC,qBAAoB,KAAM,wBAAwB,CACzD,OACEC,YAAY,CACZC,cAAc,CACdC,gBAAgB,KACX,4BAA4B,CACnC,OAASC,gBAAgB,KAAQ,8CAA8C,CAC/E,MAAOC,eAAc,KAAM,kBAAkB,CAC7C,OAASC,WAAW,KAAQ,aAAa,CAAC,wFAC1C,GAAMC,UAAS,CAAG,QAAZA,UAAS,MAAoB,IAAdC,QAAO,MAAPA,OAAO,CAC1B,cAA8BT,QAAQ,CAAC,KAAK,CAAC,wCAAtCU,OAAO,eAAEC,UAAU,eAC1B,GAAMC,mBAAkB,CAAGL,WAAW,CACpC,SAACM,KAAK,QAAKA,MAAK,CAACC,iBAAiB,CAACC,QAAQ,GAC5C,CACD,eAAkCf,QAAQ,CAAC,GAAIC,qBAAoB,EAAE,CAAC,yCAA/De,SAAS,eAAEC,YAAY,eAE9B,GAAMC,YAAW,CAAGZ,cAAc,EAAE,CAEpC,eAAwCN,QAAQ,CAAC,CAC/CmB,SAAS,CAAE,GAAG,CACdC,WAAW,CAAE,EAAE,CACfC,OAAO,CAAE,EAAE,CACXC,OAAO,CAAE,EACX,CAAC,CAAC,yCALKC,YAAY,eAAEC,eAAe,eAOpCzB,SAAS,CAAC,UAAM,CACd,GAAIa,kBAAkB,CAAE,CACtBP,gBAAgB,CAACoB,mBAAmB,CAAC,4BAA4B,CAAE,CACjEN,SAAS,CAAEP,kBACb,CAAC,CAAC,CAACc,IAAI,CAAC,SAACC,IAAI,CAAK,CAChB,GAAIA,IAAI,CAACR,SAAS,CAAE,CAClBK,eAAe,gCACVD,YAAY,MACfJ,SAAS,CAAEQ,IAAI,CAACR,SAAS,CACzBC,WAAW,CAAEO,IAAI,CAACP,WAAW,CAC7BC,OAAO,CAAEM,IAAI,CAACN,OAAO,GACrB,CACJ,CAAC,IAAM,CACLlB,cAAc,CAAC,sBAAsB,CAAC,CACxC,CACF,CAAC,CAAC,CACJ,CACF,CAAC,CAAE,CAACS,kBAAkB,CAAC,CAAC,CAExB,GAAMgB,YAAW,2FAAG,mIAClB,GAAIZ,SAAS,CAACa,QAAQ,EAAE,CAAE,CACxBlB,UAAU,CAAC,IAAI,CAAC,CAChBN,gBAAgB,CAACoB,mBAAmB,CAClC,2BAA2B,CAC3BF,YAAY,CACb,CAACG,IAAI,CAAC,SAACC,IAAI,CAAK,CACf,GAAIA,IAAI,CAACG,KAAK,CAAE,CACd1B,gBAAgB,CAAC,oBAAoB,CAAC,CACtCO,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,IAAM,CACLR,cAAc,CAAC,sBAAsB,CAAC,CACxC,CACF,CAAC,CAAC,CACJ,CAAC,IAAM,CACLa,SAAS,CAACe,YAAY,EAAE,CACxB;AACA;AACAb,WAAW,EAAE,CACf,CAAC,sDACF,kBApBKU,YAAW,2CAoBhB,CAED,mBACE,aAAK,SAAS,CAAC,2BAA2B,wBAExC,aAAK,SAAS,CAAC,KAAK,wBAClB,aAAK,SAAS,CAAC,UAAU,wBACvB,KAAC,SAAS,EACR,OAAO,CAAC,UAAU,CAClB,SAAS,MACT,IAAI,CAAC,OAAO,CACZ,KAAK,CAAC,cAAc,CACpB,KAAK,CAAEL,YAAY,CAACH,WAAY,CAChC,QAAQ,CAAE,kBAACY,KAAK,CAAK,CACnBR,eAAe,gCACVD,YAAY,MACfH,WAAW,CAAEY,KAAK,CAACC,MAAM,CAACC,KAAK,GAC/B,CACJ,CAAE,EACF,cACF,UAAG,SAAS,CAAC,aAAa,UACvBlB,SAAS,CAACmB,OAAO,CAChB,aAAa,CACbZ,YAAY,CAACH,WAAW,CACxB,UAAU,CACX,EACC,GACA,cACN,YAAK,SAAS,CAAC,UAAU,uBACvB,KAAC,SAAS,EACR,OAAO,CAAC,UAAU,CAClB,SAAS,MACT,IAAI,CAAC,OAAO,CACZ,SAAS,MACT,KAAK,CAAC,SAAS,CACf,KAAK,CAAEG,YAAY,CAACF,OAAQ,CAC5B,QAAQ,CAAE,kBAACW,KAAK,CAAK,CACnBR,eAAe,gCAAMD,YAAY,MAAEF,OAAO,CAAEW,KAAK,CAACC,MAAM,CAACC,KAAK,GAAG,CACnE,CAAE,EACF,EACE,GACF,cACN,aAAK,SAAS,CAAC,uBAAuB,wBACpC,KAAC,MAAM,EACL,OAAO,CAAE,yBAAMzB,QAAO,EAAE,EAAC,CACzB,OAAO,CAAC,WAAW,CACnB,SAAS,CAAC,MAAM,CAChB,KAAK,CAAC,SAAS,CACf,gBAAgB,eACjB,QAED,EAAS,CACRP,YAAY,CAACQ,OAAO,CAAE,MAAM,CAAEkB,WAAW,CAAE,SAAS,CAAC,GAClD,GACF,CAEV,CAAC,CAED,cAAepB,UAAS"},"metadata":{},"sourceType":"module"}