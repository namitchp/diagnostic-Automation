{"ast":null,"code":"import _regeneratorRuntime from\"F:/React code/diagnostic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"F:/React code/diagnostic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{userService}from\"../../services\";export var CommonController={getUserRightsList:getUserRightsList,currenyMasking:currenyMasking,getUserFilterList:getUserFilterList,tablePickerController:tablePickerController,commonApiCall:commonApiCall,commonApiCallFilter:commonApiCallFilter,commonJsonUpdate:commonJsonUpdate,commonApiFile:commonApiFile};function getUserRightsList(){return _getUserRightsList.apply(this,arguments);}function _getUserRightsList(){_getUserRightsList=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var apiEndpoint,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;apiEndpoint=\"menu/menu_list_level1?user_id=\".concat(localStorage.getItem(\"userId\"));_context.next=4;return userService.get(apiEndpoint,\"node\");case 4:response=_context.sent;if(!response){_context.next=9;break;}return _context.abrupt(\"return\",response.data);case 9:if(response.data.status!==500){alert(response.data);}return _context.abrupt(\"return\",null);case 11:_context.next=17;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](0);console.log(\"error\",_context.t0);return _context.abrupt(\"return\",null);case 17:case\"end\":return _context.stop();}}},_callee,null,[[0,13]]);}));return _getUserRightsList.apply(this,arguments);}function getUserFilterList(){return _getUserFilterList.apply(this,arguments);}function _getUserFilterList(){_getUserFilterList=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var apiEndpoint,response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;apiEndpoint=\"user/get_user_filter?user_id=\".concat(localStorage.getItem(\"userId\"));_context2.next=4;return userService.localget(apiEndpoint);case 4:response=_context2.sent;if(!response){_context2.next=9;break;}return _context2.abrupt(\"return\",response.data);case 9:if(response.data.status!==500){alert(response.data);}return _context2.abrupt(\"return\",null);case 11:_context2.next=17;break;case 13:_context2.prev=13;_context2.t0=_context2[\"catch\"](0);console.log(\"error\",_context2.t0);return _context2.abrupt(\"return\",null);case 17:case\"end\":return _context2.stop();}}},_callee2,null,[[0,13]]);}));return _getUserFilterList.apply(this,arguments);}export function currenyMasking(val){var format=new Intl.NumberFormat(\"en-IN\",{style:\"currency\",currency:\"INR\",minimumFractionDigits:2});// var x = val.toString();\n// var lastThree = x.substring(x.length-3);\n// var otherNumbers = x.substring(0,x.length-3);\n// if(otherNumbers != '')\n//     lastThree = ',' + lastThree;\n// var res = otherNumbers.replace(/\\B(?=(\\d{2})+(?!\\d))/g, \",\") + lastThree;\nreturn format.format(parseFloat(val).toFixed(2));}function tablePickerController(_x,_x2){return _tablePickerController.apply(this,arguments);}function _tablePickerController(){_tablePickerController=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(url,params){var domain,apiEndpoint,response,_args3=arguments;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:domain=_args3.length>2&&_args3[2]!==undefined?_args3[2]:\"\";console.log(domain);_context3.prev=2;apiEndpoint=\"\".concat(url,\"?filter_value=\").concat(params.filter_value,\"&page_number=\").concat(params.pageNo,\"&page_size=\").concat(params.pageSize,\"&sort_column=\").concat(params.sort_column,\"&sort_order=\").concat(params.sort_order);_context3.next=6;return userService.post(apiEndpoint,{},domain);case 6:response=_context3.sent;if(!response){_context3.next=11;break;}return _context3.abrupt(\"return\",response.data);case 11:if(response.data.status!==500){alert(response.data);}return _context3.abrupt(\"return\",null);case 13:_context3.next=19;break;case 15:_context3.prev=15;_context3.t0=_context3[\"catch\"](2);console.log(\"error\",_context3.t0);return _context3.abrupt(\"return\",null);case 19:case\"end\":return _context3.stop();}}},_callee3,null,[[2,15]]);}));return _tablePickerController.apply(this,arguments);}function commonApiCall(_x3,_x4,_x5,_x6){return _commonApiCall.apply(this,arguments);}function _commonApiCall(){_commonApiCall=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(url,params,body,domain){var apiEndpoint,response;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;apiEndpoint=\"\".concat(url,\"?filter_value=\").concat(params.filter_value,\"&page_number=\").concat(params.pageNo,\"&page_size=\").concat(params.pageSize,\"&sort_column=\").concat(params.sort_column,\"&sort_order=\").concat(params.sort_order);_context4.next=4;return userService.post(apiEndpoint,body,domain);case 4:response=_context4.sent;if(!response){_context4.next=9;break;}return _context4.abrupt(\"return\",response.data);case 9:if(response.data.status!==500){alert(response.data);}return _context4.abrupt(\"return\",null);case 11:_context4.next=17;break;case 13:_context4.prev=13;_context4.t0=_context4[\"catch\"](0);console.log(\"error\",_context4.t0);return _context4.abrupt(\"return\",null);case 17:case\"end\":return _context4.stop();}}},_callee4,null,[[0,13]]);}));return _commonApiCall.apply(this,arguments);}function commonApiFile(_x7,_x8){return _commonApiFile.apply(this,arguments);}function _commonApiFile(){_commonApiFile=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(url,body){var apiEndpoint,response;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;apiEndpoint=url;_context5.next=4;return userService.image(apiEndpoint,body);case 4:response=_context5.sent;if(!response){_context5.next=9;break;}return _context5.abrupt(\"return\",response.data);case 9:if(response.data.status!==500){alert(response.data);}return _context5.abrupt(\"return\",null);case 11:_context5.next=17;break;case 13:_context5.prev=13;_context5.t0=_context5[\"catch\"](0);console.log(\"error\",_context5.t0);return _context5.abrupt(\"return\",null);case 17:case\"end\":return _context5.stop();}}},_callee5,null,[[0,13]]);}));return _commonApiFile.apply(this,arguments);}function commonApiCallFilter(_x9,_x10){return _commonApiCallFilter.apply(this,arguments);}function _commonApiCallFilter(){_commonApiCallFilter=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(url,body){var type,domain,apiEndpoint,response,queryString,_url,_args6=arguments;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:type=_args6.length>2&&_args6[2]!==undefined?_args6[2]:\"post\";domain=_args6.length>3&&_args6[3]!==undefined?_args6[3]:\"\";_context6.prev=2;apiEndpoint=\"\".concat(url);if(!(type===\"post\")){_context6.next=10;break;}_context6.next=7;return userService.post(apiEndpoint,body,domain);case 7:response=_context6.sent;_context6.next=15;break;case 10:queryString=Object.keys(body).map(function(key){return key+\"=\"+body[key];}).join(\"&\");_url=url+\"?\"+queryString;_context6.next=14;return userService.get(_url,domain);case 14:response=_context6.sent;case 15:if(!response){_context6.next=19;break;}return _context6.abrupt(\"return\",response.data);case 19:if(response.data.status!==500){alert(response.data);}return _context6.abrupt(\"return\",null);case 21:_context6.next=27;break;case 23:_context6.prev=23;_context6.t0=_context6[\"catch\"](2);console.log(\"error\",_context6.t0);return _context6.abrupt(\"return\",null);case 27:case\"end\":return _context6.stop();}}},_callee6,null,[[2,23]]);}));return _commonApiCallFilter.apply(this,arguments);}function commonJsonUpdate(_x11,_x12){return _commonJsonUpdate.apply(this,arguments);}function _commonJsonUpdate(){_commonJsonUpdate=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(url,body){var apiEndpoint,response;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.prev=0;apiEndpoint=\"\".concat(url);_context7.next=4;return userService.jsonpost(apiEndpoint,body);case 4:response=_context7.sent;if(!response){_context7.next=9;break;}return _context7.abrupt(\"return\",response.data);case 9:if(response.data.status!==500){alert(response.data);}return _context7.abrupt(\"return\",null);case 11:_context7.next=17;break;case 13:_context7.prev=13;_context7.t0=_context7[\"catch\"](0);console.log(\"error\",_context7.t0);return _context7.abrupt(\"return\",null);case 17:case\"end\":return _context7.stop();}}},_callee7,null,[[0,13]]);}));return _commonJsonUpdate.apply(this,arguments);}","map":{"version":3,"names":["userService","CommonController","getUserRightsList","currenyMasking","getUserFilterList","tablePickerController","commonApiCall","commonApiCallFilter","commonJsonUpdate","commonApiFile","apiEndpoint","localStorage","getItem","get","response","data","status","alert","console","log","localget","val","format","Intl","NumberFormat","style","currency","minimumFractionDigits","parseFloat","toFixed","url","params","domain","filter_value","pageNo","pageSize","sort_column","sort_order","post","body","image","type","queryString","Object","keys","map","key","join","_url","jsonpost"],"sources":["F:/React code/diagnostic/src/_redux/controller/common.controller.js"],"sourcesContent":["import { userService } from \"../../services\";\r\n\r\nexport const CommonController = {\r\n  getUserRightsList,\r\n  currenyMasking,\r\n  getUserFilterList,\r\n  tablePickerController, \r\n  commonApiCall,\r\n  commonApiCallFilter,\r\n  commonJsonUpdate,\r\n  commonApiFile,\r\n};\r\n\r\nasync function getUserRightsList() {\r\n  try {\r\n    let apiEndpoint = `menu/menu_list_level1?user_id=${localStorage.getItem(\r\n      \"userId\"\r\n    )}`;\r\n\r\n    let response = await userService.get(apiEndpoint,\"node\");\r\n\r\n    if (response) {\r\n      return response.data;\r\n    } else {\r\n      if (response.data.status !== 500) {\r\n        alert(response.data);\r\n      }\r\n      return null;\r\n    }\r\n  } catch (error) {\r\n    console.log(\"error\", error);\r\n    return null;\r\n  }\r\n}\r\n\r\nasync function getUserFilterList() {\r\n  try {\r\n    let apiEndpoint = `user/get_user_filter?user_id=${localStorage.getItem(\r\n      \"userId\"\r\n    )}`;\r\n\r\n    let response = await userService.localget(apiEndpoint);\r\n\r\n    if (response) {\r\n      return response.data;\r\n    } else {\r\n      if (response.data.status !== 500) {\r\n        alert(response.data);\r\n      }\r\n      return null;\r\n    }\r\n  } catch (error) { \r\n    console.log(\"error\", error);\r\n    return null;\r\n  }\r\n}\r\n\r\nexport function currenyMasking(val) {\r\n  var format = new Intl.NumberFormat(\"en-IN\", {\r\n    style: \"currency\",\r\n    currency: \"INR\",\r\n    minimumFractionDigits: 2,\r\n  });\r\n  // var x = val.toString();\r\n  // var lastThree = x.substring(x.length-3);\r\n  // var otherNumbers = x.substring(0,x.length-3);\r\n  // if(otherNumbers != '')\r\n  //     lastThree = ',' + lastThree;\r\n  // var res = otherNumbers.replace(/\\B(?=(\\d{2})+(?!\\d))/g, \",\") + lastThree;\r\n  return format.format(parseFloat(val).toFixed(2));\r\n}\r\n\r\nasync function tablePickerController(url, params, domain = \"\") {\r\n  console.log(domain);\r\n  try {\r\n    let apiEndpoint = `${url}?filter_value=${params.filter_value}&page_number=${params.pageNo}&page_size=${params.pageSize}&sort_column=${params.sort_column}&sort_order=${params.sort_order}`;\r\n    let response = await userService.post(apiEndpoint, {}, domain);\r\n\r\n    if (response) {\r\n      return response.data;\r\n    } else {\r\n      if (response.data.status !== 500) {\r\n        alert(response.data);\r\n      }\r\n      return null;\r\n    }\r\n  } catch (error) {\r\n    console.log(\"error\", error);\r\n    return null;\r\n  }\r\n}\r\n\r\nasync function commonApiCall(url, params, body, domain) {\r\n  try {\r\n    let apiEndpoint = `${url}?filter_value=${params.filter_value}&page_number=${params.pageNo}&page_size=${params.pageSize}&sort_column=${params.sort_column}&sort_order=${params.sort_order}`;\r\n    let response = await userService.post(apiEndpoint, body, domain);\r\n    if (response) {\r\n      return response.data;\r\n    } else {\r\n      if (response.data.status !== 500) {\r\n        alert(response.data);\r\n      }\r\n      return null;\r\n    }\r\n  } catch (error) {\r\n    console.log(\"error\", error);\r\n    return null;\r\n  }\r\n}\r\n\r\nasync function commonApiFile(url, body) {\r\n  try {\r\n    let apiEndpoint = url;\r\n    let response = await userService.image(apiEndpoint, body);\r\n    if (response) {\r\n      return response.data;\r\n    } else {\r\n      if (response.data.status !== 500) {\r\n        alert(response.data);\r\n      }\r\n      return null;\r\n    }\r\n  } catch (error) {\r\n    console.log(\"error\", error);\r\n    return null;\r\n  }\r\n}\r\n\r\nasync function commonApiCallFilter(url, body, type = \"post\", domain = \"\") {\r\n  \r\n  try {\r\n    let apiEndpoint = `${url}`;\r\n    let response;\r\n    if (type === \"post\") {\r\n      response = await userService.post(apiEndpoint, body, domain);\r\n    } else {\r\n      let queryString = Object.keys(body)\r\n        .map((key) => key + \"=\" + body[key])\r\n        .join(\"&\");\r\n      let _url = url + \"?\" + queryString;\r\n      response = await userService.get(_url, domain);\r\n    }\r\n    if (response) {\r\n      return response.data;\r\n    } else {\r\n      if (response.data.status !== 500) {\r\n        alert(response.data);\r\n      }\r\n      return null;\r\n    }\r\n  } catch (error) {\r\n    console.log(\"error\", error);\r\n    return null;\r\n  }\r\n}\r\n\r\nasync function commonJsonUpdate(url, body) {\r\n  try {\r\n    let apiEndpoint = `${url}`;\r\n    let response = await userService.jsonpost(apiEndpoint, body);\r\n\r\n    if (response) {\r\n      return response.data;\r\n    } else {\r\n      if (response.data.status !== 500) {\r\n        alert(response.data);\r\n      }\r\n      return null;\r\n    }\r\n  } catch (error) {\r\n    console.log(\"error\", error);\r\n    return null;\r\n  }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}